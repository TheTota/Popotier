{% extends "layout/base.html.twig" %}
{% block links %}
    {{ parent() }}
    <link rel="stylesheet" href="/public/css/recipe/recipe-form.css">
{% endblock %}

{% block content %}
    <div id="recipe-form">
        <h2>Ajouter une nouvelle Recette</h2>
        {% if recipeCreated %}
            <div class="alert alert-success" role="alert">
                La recette a bien été créé.
            </div>
        {% endif %}

        <form action="/recipe/add" method="POST" enctype="multipart/form-data">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="form-group col-sm-6">
                        <label for="inputName"></label>
                        <input type="text" class="form-control" id="inputName" name="inputName" placeholder="Nom de la recette">
                        <small id="nameError" class="form-text text-danger hide">Le nom doit contenir uniquement des
                            lettres</small>
                    </div>
                </div>
                <div class="row justify-content-center text-center">
                    <div class="form-group col-md-6">
                        <label for="inputImage" class="file-input">
                            <i class="fas fa-file-import"></i>
                            Choisissez une image pour votre recette
                        </label>
                        <input type="file" class="file-input" id="inputImage" name="fileToUpload"
                               accept="image/png, image/jpeg" onchange="readURL(this)">
                        <div id="image-container">
                            <img src="/public/assets/recipes-image/knives.jpg" alt="image du plat" id="image">
                        </div>
                    </div>
                </div>

                <hr>

                <h2>
                    Informations sur la recette
                </h2>

                <div class="form-group row">
                    <div class="col">
                        <label for="inputType"> Type de la recette </label>
                        <select type="number" class="form-control" id="inputType" name="inputType" placeholter="Type">
                            {% for recipeType in recipeTypes %}
                                <option value="{{ recipeType.id }}">{{ recipeType.label }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col">
                        <label for="inputCookingTime"> Temps de cuisson en minute</label>
                        <input type="number" class="form-control" id="inputCookingTime" name="inputCookingTime" step="5"
                               min="0"
                               value="0">
                    </div>

                    <div class="col">
                        <label for="inputPreparationTime"> Temps de préparation en minute</label>
                        <input type="number" class="form-control" id="inputPreparationTime" name="inputPreparationTime"
                               step="5"
                               min="0"
                               value="0">
                    </div>
                </div>

                <div class="row form-group">
                    <div class="col">
                        <label for="inputPersonNumber"> Nombre de personne </label>
                        <select type="number" class="form-control" id="inputPersonNumber" name="inputPersonNumber">
                            {% for i in range(1, 10) %}
                                <option value="{{ i }}">{{ i }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col">
                        <label for="inputDifficulty"> Difficulté </label>
                        <select type="number" class="form-control" id="inputDifficulty" name="inputDifficulty">
                            {% for i in range(1, 5) %}
                                <option value="{{ i }}">{{ i }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col">
                        <label for="inputMeanPrice"> Prix moyen </label>
                        <select type="text" class="form-control" id="inputMeanPrice" name="inputMeanPrice">
                            <option value="1 - 10 €">1 - 10 €</option>
                            <option value="10 - 20 €">10 - 20 €</option>
                            <option value="20 - 50 €">20 - 50 €</option>
                            <option value="50 - 100 €">5 - 100 €</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="inputAuthorQuote"> Annotations </label>
                    <textarea class="form-control" id="inputAuthorQuote" name="inputAuthorQuote"></textarea>
                </div>

                <hr>

                {% include 'recipe/recipe-step-create.html.twig' %}

                <hr>

                {% include 'recipe/recipe-ingredient-create.html.twig' %}

                <div class="text-center">
                    <button id="submit" type="submit" class="btn btn-primary width100" name="addRecipe">Ajouter la recette</button>
                </div>

            </div>
        </form>
    </div>
{% endblock %}

{% block scripts %}
    <script src="/public/js/recipe/recipe-create-form.js"></script>
    <script src="/public/js/recipe/recipe-steps.js"></script>
    <script src="/public/js/recipe/recipe-create-form.js"></script>
    <script src="/public/js/recipe/recipe-ingredients.js"></script>
{% endblock %}


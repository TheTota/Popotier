{% extends 'layout/base.html.twig' %}

{% block links %}
    {{ parent() }}
    <link rel="stylesheet" href="/public/css/recipe/recipe-view.css">
{% endblock %}

{% block content %}

    <div class="container col-lg-6 recipe-container">
        <div>
            Recette proposée par <a href="/user/view/{{ recipe.author.alias }}">{{ recipe.author.alias }}</a>
        </div>


        <h3 id="recipe-name" class="center">{{ recipe.name }}</h3>
        <div class="center">
            Note: {{ recipe.evaluation }}
        </div>
        <div class="row-md">
            {% if recipe.image %}
                <img class="width100" src="{{ recipe.image }}" alt="image of the recipe">
            {% else %}
                <img class="width100" src="/public/assets/recipes-image/knives.jpg" alt="image of the recipe">
            {% endif %}
        </div>
        <small>Créé le {{ recipe.creationDate | date('d/m/Y') }}</small>

        <hr class="separator">

        <div class="row">
            <div class="col-lg-2">
                <button id="like-btn" type="button" class="btn btn-info" onclick="handleLikeButtonClick({{ recipe.id }})">
                    <i class="far fa-heart fa-2x"></i>
                </button>
            </div>
            <div class="col-lg-10">
                <div class="row">
                    <div class="col-lg-6">
                        <p>
                            <i class="fas fa-clock icon"></i>
                            Temps de cuisson : {{ recipe.cookingTime }} min
                        </p>
                    </div>
                    <div class="col-lg-6">
                        <p>
                            <i class="fas fa-clock icon"></i>
                            Temps de préparation : {{ recipe.preparationTime }} min
                        </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <i class="fas fa-users icon"></i>
                        {{ recipe.personNumber }} personne(s)
                    </div>
                    <div class="col">
                        <i class="fas fa-utensils icon"></i>
                        Difficulté : {{ recipe.difficulty }}/5
                    </div>
                    <div class="col">
                        <i class="fas fa-coins icon"></i>
                        Prix moyen :
                        {% if recipe.meanPrice %}
                            {{ recipe.meanPrice }} €
                        {% else %}
                            nc
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <hr class="separator">
        <div class="row">
            <div class="col-lg-4">
                <h4>Ingrédients</h4>

                {% for ingredient in recipe.ingredients %}
                    <div>
                        {{ ingredient.ingredient.name }}
                        {{ ingredient.quantity }}
                        {{ ingredient.unit.name }}
                    </div>
                {% endfor %}

            </div>
            <div class="col-lg-8">
                <h4>Etapes</h4>
                <div class="row">
                    <ol>
                        {% for step in recipe.steps %}
                            <li>
                                {{ step.description }}
                            </li>
                            <br/>
                        {% endfor %}
                    </ol>
                </div>
            </div>
        </div>
        <hr/>
        <div class="row">
            <h4>Commentaires</h4>
        </div>
    </div>
{% endblock %}


{% block scripts %}
    <script src="/public/js/recipe/recipe-view.js"></script>
{% endblock %}